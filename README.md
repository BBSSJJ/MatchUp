# Bigdata Server Branch

리그오브레전드 개인/2인 랭크 게임을 함께 플레이할 유저를 추천하는 알고리즘 서버

## 목차

1. [시장 분석](#1-시장-분석)
2. [데이터 분석](#2-리그오브레전드-데이터-분석)
3. [추천 시스템](#3-추천-시스템)
4. [참조](#0-참조)

## 1. 시장 분석

### 기존 유사 사이트

- 듀오 찾기 사이트
  - [DUO.LoL]("https://duo.op.gg/ko/lol/")
- 듀오 찾기 커뮤니티
  - [YOUR.GG]("https://your.gg/ko/kr/duo-request")
  - [OP.GG]("https://talk.op.gg/s/lfg/all?sort=recent")
  - [LoLKor 네이버 카페]("https://cafe.naver.com/lolkor")
- 메신저 프로그램
  - Discord
  - Lita

### 유저 니즈 파악

유일한 듀오를 위한 사이트이자 가장 활발히 사용되고 있는 DUO.LoL 사이트를 통해 유저 니즈 파악 (실패한다면 기존의 YOUR.GG의 데이터 사용)

#### 구인글 데이터 수집

- selenium 을 활용한 데이터 크롤링
  - 동적으로 듀오 구인글을 표시하고 있기 때문에 selenium을 활용
- 크롤링한 데이터 csv 파일로 저장

#### 구인글 데이터 전처리

- 수집된 데이터 확인
  - Word2Vec 활용 #####################################################

- 데이터 특징
  - 아무런 구인글이 없는 데이터 존재 → 해당 행 삭제
  - 광고글 존재 → 데이터를 흐릴 가능성이 있기 때문에 삭제(현재까지는 강의 라는 이름이 들어가는 구인글 삭제) → 추후 따로 학습하여 광고 제거 또한 가능할 것으로 판단 → 광고 / 욕설이라고 여겨지는 데이터 따로 저장하여 사용 계획
  - 이모티콘 다수 사용 (ex) ㅠㅠ, ㄱㄱㄱ, @@ 등
  - 괄호의 사용으로 인한 혼동
  - 문법에 맞지 않는 표현 다수 사용

- 데이터 분류
  - 승률을 높이기 위해서
    - 호흡 맞추기
    - 조합 맞추기
    - 부캐 듀오
    - 다른 라인에 믿음
  - 즐겁게 같이 할 사람을 찾기 위해서
    - 이야기 나누기
    - 비슷한 연령대
    - 인성 좋은 유저
    - 게임에 진심인 유저
    - 즐길 유저
    - 재미있는 유저
    - 포기하지 않는 유저
  - 기타
    - 토큰작
    - 아무나
    - 여성, 남성

## 2. 리그오브레전드 데이터 분석

### APIs - Riot Developer Portal

- 공식 문서 및 API 분석
- [LeagueOfLegendsApi](APIs.md)

### 리그오브레전드 데이터 수집

#### 리그오브레전드 유저 데이터 수집

LEAGUE-V4

- `https://kr.api.riotgames.com/lol/league/v4/entries/RANKED_SOLO_5x5/tier/division?page=1`

- 티어별 유저수
  - 2024년 03월 15일 금요일까지 획득한 데이터 기준
  - 챌린저 - 300
  - 그랜드마스터 - 700
  - 마스터 - 16297
  - 다이아몬드
    - I   - 11,523
    - II  - 16,018
    - III - 24,125
    - IV  - 55,387
  - 에메랄드
    - I   - 53,208
    - II  - 55,622
    - III - 81,612
    - IV  - 170,120
  - 플래티넘
    - I   - 87,727
    - II  - 120,834
    - III - 143,653
    - IV  - 215,763
  - 골드
    - I   - 110,552
    - II  - 128,552
    - III - 126,508
    - IV  - 164,222
  - 실버
    - I   - 92,107
    - II  - 108,770
    - III - 117,149
    - IV  - 144,695
  - 브론즈
    - I   - 97,952
    - II  - 115,606
    - III - 118,803
    - IV  - 132,090
  - 아이언
    - I   - 79,076
    - II  - 65,616
    - III - 38,660
    - IV  - 25,535

- 듀오 티어 제한
  - 듀오 불가능
    - 챌린저
    - 그랜드마스터
    - 마스터
  - 다이아몬드
    - 2단계 이내의 티어
  - 에메랄드
    - 2단계 이내의 다이아몬드
    - 에메랄드
    - 플레티넘
  - 플레티넘
    - 에메랄드
    - 플레티넘
    - 골드
  - 골드
    - 플레티넘
    - 골드
    - 실버
  - 실버
    - 골드
    - 실버
    - 브론즈
    - 아이언
  - 브론즈
    - 골드
    - 실버
    - 아이언
  - 아이언
    - 실버
    - 브론즈
    - 아이언

#### 리그오브레전드 유저 데이터 분석

- 유저 수
  - 듀오가 가능한 티어대의 최대 유저 - 215,763
  - 듀오가 가능한 티어대의 최소 유저 -  11,523

- 유저 데이터 분석 한계점
  - Riot API 를 통해 데이터를 수집하기 때문에 시간적 제약이 존재
    - 요청 한 번당 500ms 정도의 시간이 소요
    - 한 소환사의 최근 20게임의 정보를 불러오는데 10s ~ 11s 소요
    - 모든 유저를 불러오는 것은 시간적 어려움
  - Riot API 를 통해 불러온 데이터의 정보도 많기 때문에 공간적 어려움도 존재
    - timeline 데이터의 경우 json 으로 저장시 2MB/1match
    - 데이터 전처리를 통한 파일 압축 필요

- 해결 방안
  - 전체 유저를 통한 데이터 분석을 진행하는 것이 아닌 표본을 통해 모집단을 파악
  
- 표본 설정
  - 표본의 크기를 최대한 증가 시켜 표본 오차를 감소
  - 전체 데이터를 확인하는 과정 자체에 어려움이 있기 때문에 대표성을 높이거나 적절한 추출 방식을 확인하기 어려움
  - 표본 결정에 대한 논문 참고 [1]

## 3. 추천 시스템

### 승률

#### 유저 데이터 수집

- Riot API 를 활용한 데이터 수집이 가능할 경우

### 즐거움

### 구인글

## 0. 참조

[1]: Park Wonu. Son Seungyeon. Park Haesin. Park Hyesang, "적정 표본크기 결정을 위한 제언", "Seoul Journal of Industrial Relations vol.21", 7, 2010.
